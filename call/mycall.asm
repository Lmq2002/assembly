DATA SEGMENT

	IS DB 20
	    DB ?
	    DB 20 DUP('$')	;输入的字符串

	DD1 DB 2 DUP('$')
	DB '$'
	MM1 DB 2 DUP('$')
	DB '$'
	YY1 DB 4 DUP('$')
	DB '$'
	
	OUTPUT_1 DB 'WHAT IS THE DATE(MM/DD/YY)?$'
	CRLF DB 0DH,0AH,'$'
	OUTPUT_2 DB 'THE DATE IS: $'
	OS DB '-','$'
DATA ENDS



CODE SEGMENT
ASSUME DS:DATA,CS:CODE
START:
	MOV AX,DATA
	MOV DS,AX
	
	LEA DX,OUTPUT_1
	MOV AH,09H
	INT 21H		;输入提示
	
	LEA DX,CRLF
	MOV AH,09H
	INT 21H		;回车

	CALL GETNUM	;输入字符串

	LEA DX,CRLF
	MOV AH,09H
	INT 21H		;回车

	LEA SI,IS[2]	;SI字符串地址
	LEA DI,MM1	;DI变量地址

	MOV AX,0
MMS:	
	MOV AL,[SI]
	CMP AL,'/'
	JE MME
	MOV [DI],AL
	INC DI
	INC SI
	JMP MMS
MME:
	INC SI
	LEA DI,DD1
	MOV AX,0
DDS:
	MOV AL,[SI]
	CMP AL,'/'
	JE DDE
	MOV [DI],AL
	INC DI
	INC SI
	JMP DDS
DDE:
	INC SI
	LEA DI,YY1
	MOV AX,0
YYS:	
	MOV AL,[SI]
	CMP AL,0DH
	JE YYE
	MOV [DI],AL
	INC DI
	INC SI
	JMP YYS
YYE:
	LEA DX,OUTPUT_2
	CALL DISP

	LEA DX,YY1
	CALL DISP	;2022
	
	MOV DL,'-'
	MOV AH,02H
	INT 21H		;-

	LEA DX,MM1
	CALL DISP	;10

	MOV DL,'-'
	MOV AH,02H
	INT 21H		;-

	LEA DX,DD1
	CALL DISP		;29

	MOV AH,4CH
	INT 21H

	
GETNUM:	;输入字符串到IS中
	LEA DX,IS
	MOV AH,0AH
	INT 21H
	RET

DISP:	
	MOV AH,09H
	INT 21H	
	RET
CODE ENDS
END START